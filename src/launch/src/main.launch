<launch>

	<!-- run rviz -->
	<!-- <node pkg="rviz" type="rviz" name="rviz" /> -->
	<node pkg="rviz" type="rviz" name="rviz" args="-d $(find launch)/config/main.rviz" />

	<param name="robot_description" command="$(find xacro)/xacro --inorder '$(find realsense2_description)/urdf/test_d435_camera.urdf.xacro' use_nominal_extrinsics:=false"/>
	
	<node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"/>

	<!-- launch all phidgets -->
	<include file="$(find robp_phidgets)/launch/phidgets.launch" />

	<!-- launch the controller node -->
	<node pkg="controller" type="controller.py" name="cartesian_controller_node" output="screen" />

	<!-- launch the odometry node -->
	<node pkg="odometry" type="odometry.py" name="odometry_node" output="screen" />

	<!-- launch the realsense node -->
	<include file = "$(find realsense2_camera)/launch/rs_camera.launch" >
		<arg name="tf_prefix" value="camera"/>
		<arg name="filters" value="pointcloud" />
	</include>

</launch>
